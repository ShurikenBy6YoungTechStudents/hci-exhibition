<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>XY Position Among Us Game üßë‚ÄçüöÄ</title>
    <style>
      body {
        font-family: "Comic Sans MS", cursive;
        background: linear-gradient(135deg, #2c3e50, #34495e);
        margin: 0;
        min-height: 100vh;
        padding: 0;
      }

      .back-btn {
        position: fixed;
        top: 20px;
        left: 20px;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        transition: all 0.3s;
      }

      .back-btn:hover {
        background: white;
        transform: scale(1.1);
      }

      h1 {
        color: #e74c3c;
        margin: 0;
        text-align: center;
        padding: 20px 0;
      }

      .main-container {
        display: flex;
        gap: 20px;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        min-height: calc(100vh - 100px);
      }

      .left-column {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .canvas-area {
        position: relative;
        display: flex;
        justify-content: center;
        width: 406px; /* canvas width + border */
        margin: 0 auto;
      }

      .right-column {
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      .info-panel {
        background: white;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        flex: 1;
      }

      canvas {
        border: 3px solid #e74c3c;
        border-radius: 12px;
        background: #34495e;
        position: relative;
      }

      .grid-overlay {
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
        opacity: 0.3;
        z-index: 1;
      }

      .controls-panel {
        background: white;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        height: fit-content;
      }

      .instructions {
        background: #fadbd8;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
        border-left: 4px solid #e74c3c;
      }

      .instructions h3 {
        color: #e74c3c;
        margin: 0 0 10px 0;
      }

      .coordinate-info {
        background: #fff9e6;
        padding: 10px;
        border-radius: 8px;
        margin: 10px 0;
        border: 2px solid #ffd700;
      }

      .part-controls {
        margin: 15px 0;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 10px;
        border: 1px solid #e9ecef;
      }

      .part-controls h4 {
        margin: 0 0 10px 0;
        color: #495057;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .status-indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #ff6b6b;
        transition: background-color 0.3s;
      }

      .status-indicator.correct {
        background: #51cf66;
      }

      .control-group {
        display: flex;
        align-items: center;
        gap: 10px;
        margin: 8px 0;
      }

      .control-group label {
        min-width: 20px;
        font-weight: bold;
        color: #495057;
      }

      .slider {
        flex: 1;
        height: 8px;
        border-radius: 5px;
        background: #ddd;
        outline: none;
        -webkit-appearance: none;
        appearance: none;
      }

      .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #e74c3c;
        cursor: pointer;
      }

      .slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #e74c3c;
        cursor: pointer;
        border: none;
      }

      .coord-input {
        width: 50px;
        padding: 5px;
        border: 2px solid #ddd;
        border-radius: 5px;
        text-align: center;
        font-size: 14px;
      }

      .coord-input:focus {
        border-color: #e74c3c;
        outline: none;
      }

      .game-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin: 20px 0;
      }

      .btn {
        padding: 12px 20px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: all 0.3s;
        min-width: 100px;
      }

      .btn-shuffle {
        background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
        color: white;
      }

      .btn-reset {
        background: linear-gradient(45deg, #e74c3c, #c0392b);
        color: white;
      }

      .btn-hint {
        background: linear-gradient(45deg, #ffd93d, #ffe066);
        color: #333;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .score-display {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(45deg, #fadbd8, #f1948a);
        color: #e74c3c;
        padding: 20px;
        border-radius: 15px;
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        border: 3px solid #e74c3c;
        z-index: 1001;
        min-width: 150px;
      }

      .congratulations-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #ff6b6b, #ffd93d);
        color: white;
        padding: 40px;
        border-radius: 20px;
        text-align: center;
        font-size: 24px;
        font-weight: bold;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        z-index: 2000;
        display: none;
        animation: popIn 0.5s ease-out;
      }

      @keyframes popIn {
        0% {
          transform: translate(-50%, -50%) scale(0.3);
          opacity: 0;
        }
        80% {
          transform: translate(-50%, -50%) scale(1.1);
        }
        100% {
          transform: translate(-50%, -50%) scale(1);
          opacity: 1;
        }
      }

      .congratulations-popup h2 {
        margin: 0 0 20px 0;
        font-size: 32px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .congratulations-popup .emoji {
        font-size: 48px;
        margin-bottom: 15px;
        display: block;
      }

      .back-btn:hover {
        transform: translateY(-1px);
      }

      .hint-overlay {
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s;
        z-index: 2;
      }

      .hint-overlay.show {
        opacity: 0.4;
      }

      @media (max-width: 768px) {
        .main-container {
          flex-direction: column;
          padding: 10px;
        }

        .canvas-area {
          width: 356px; /* smaller canvas + border for mobile */
        }

        canvas {
          width: 350px;
          height: 350px;
        }

        .back-btn {
          width: 40px;
          height: 40px;
          font-size: 16px;
        }
      }
    </style>
  </head>
  <body>
    <button class="back-btn" onclick="location.href='index.html'">‚Üê</button>

    <!-- Score Display -->
    <div class="score-display" id="scoreDisplay">
      <div>üéØ Score</div>
      <div><span id="scoreValue">0</span>/<span id="maxScore">4</span></div>
      <div style="font-size: 14px; margin-top: 5px">
        <span id="partsCorrect">0</span> parts correct
      </div>
    </div>

    <!-- Congratulations Popup -->
    <div class="congratulations-popup" id="congratulationsPopup">
      <span class="emoji">üéâ</span>
      <h2>Congratulations!</h2>
      <p>You've assembled your Among Us crewmate!</p>
      <p>Great job learning XY coordinates! üßë‚ÄçüöÄ</p>
    </div>

    <h1>üéØ XY Position Among Us Game</h1>

    <div class="main-container">
      <div class="left-column">
        <div class="canvas-area">
          <canvas id="amongUsCanvas" width="400" height="400"></canvas>
          <canvas
            class="grid-overlay"
            id="gridCanvas"
            width="400"
            height="400"
          ></canvas>
          <canvas
            class="hint-overlay"
            id="hintCanvas"
            width="400"
            height="400"
          ></canvas>
        </div>

        <div class="info-panel">
          <div class="instructions">
            <h3>üéÆ How to Play</h3>
            <p><strong>X</strong> = Left ‚Üî Right position</p>
            <p><strong>Y</strong> = Up ‚Üï Down position</p>
            <p>üì± Use sliders & inputs below</p>
            <p>üñ±Ô∏è Or drag parts directly on canvas!</p>
            <p>üéØ Get all crewmate parts in the right spots!</p>
          </div>

          <div class="coordinate-info">
            <strong>üìç Mouse Position:</strong> X: <span id="mouseX">0</span>,
            Y:
            <span id="mouseY">0</span>
          </div>

          <div class="game-buttons">
            <button class="btn btn-shuffle" onclick="shuffleParts()">
              üîÄ Shuffle
            </button>
            <button class="btn btn-reset" onclick="resetParts()">
              üîÑ Reset
            </button>
            <button class="btn btn-hint" onclick="toggleHints()">
              üí° Hints
            </button>
          </div>
        </div>
      </div>

      <div class="right-column">
        <div class="controls-panel">
          <div id="partControls">
            <!-- Part controls will be dynamically generated -->
          </div>
        </div>
      </div>
    </div>

    <script>
      // Game state and configuration
      const canvas = document.getElementById("amongUsCanvas");
      const ctx = canvas.getContext("2d");
      const gridCanvas = document.getElementById("gridCanvas");
      const gridCtx = gridCanvas.getContext("2d");
      const hintCanvas = document.getElementById("hintCanvas");
      const hintCtx = hintCanvas.getContext("2d");

      let showHints = false;
      let score = 0;
      let previousScore = 0;
      let gameStarted = false;

      // Among Us crewmate parts with correct positions and current positions
      const animalParts = {
        body: {
          name: "Body üßë‚ÄçüöÄ",
          correctX: 200,
          correctY: 250,
          currentX: 200,
          currentY: 250,
          width: 80,
          height: 100,
          tolerance: 20,
          color: "#E74C3C",
        },
        visor: {
          name: "Visor üëÅ",
          correctX: 200,
          correctY: 200,
          currentX: 200,
          currentY: 200,
          width: 50,
          height: 25,
          tolerance: 18,
          color: "#87CEEB",
        },
        backpack: {
          name: "Backpack üéí",
          correctX: 160,
          correctY: 230,
          currentX: 160,
          currentY: 230,
          width: 40,
          height: 60,
          tolerance: 20,
          color: "#C0392B",
        },
        legs: {
          name: "Legs ü¶µ",
          correctX: 200,
          correctY: 320,
          currentX: 200,
          currentY: 320,
          width: 60,
          height: 30,
          tolerance: 18,
          color: "#E74C3C",
        },
      };

      // Sound Effects
      function playCorrectSound() {
        // Create a short beep sound for correct placement
        const audioContext = new (window.AudioContext ||
          window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
        oscillator.type = "sine";

        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(
          0.01,
          audioContext.currentTime + 0.3
        );

        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.3);
      }

      function playVictorySound() {
        // Create a cheerful victory melody
        const audioContext = new (window.AudioContext ||
          window.webkitAudioContext)();
        const notes = [523.25, 659.25, 783.99, 1046.5]; // C, E, G, C (major chord)

        notes.forEach((freq, index) => {
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();

          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);

          oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
          oscillator.type = "sine";

          const startTime = audioContext.currentTime + index * 0.2;
          gainNode.gain.setValueAtTime(0.3, startTime);
          gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + 0.4);

          oscillator.start(startTime);
          oscillator.stop(startTime + 0.4);
        });
      }

      function showCongratulations() {
        const popup = document.getElementById("congratulationsPopup");
        popup.style.display = "block";
        playVictorySound();

        // Auto-hide after 4 seconds
        setTimeout(() => {
          popup.style.display = "none";
        }, 4000);
      }

      // Initialize the game
      function initGame() {
        drawGrid();
        createPartControls();
        drawAnimal();
        updateScore();
        addMouseTracking();
      }

      function drawGrid() {
        gridCtx.clearRect(0, 0, gridCanvas.width, gridCanvas.height);
        gridCtx.strokeStyle = "#5A6C7D";
        gridCtx.lineWidth = 1;
        for (let x = 0; x <= canvas.width; x += 20) {
          gridCtx.beginPath();
          gridCtx.moveTo(x, 0);
          gridCtx.lineTo(x, canvas.height);
          gridCtx.stroke();
          if (x % 40 === 0) {
            gridCtx.fillStyle = "#BDC3C7";
            gridCtx.font = "10px Arial";
            gridCtx.fillText(x.toString(), x + 2, 12);
          }
        }
        for (let y = 0; y <= canvas.height; y += 20) {
          gridCtx.beginPath();
          gridCtx.moveTo(0, y);
          gridCtx.lineTo(canvas.width, y);
          gridCtx.stroke();
          if (y % 40 === 0) {
            gridCtx.fillStyle = "#BDC3C7";
            gridCtx.font = "10px Arial";
            gridCtx.fillText(y.toString(), 2, y - 2);
          }
        }
      }

      function createPartControls() {
        const container = document.getElementById("partControls");
        container.innerHTML = "";
        Object.keys(animalParts).forEach((partKey) => {
          const part = animalParts[partKey];
          const partDiv = document.createElement("div");
          partDiv.className = "part-controls";
          partDiv.innerHTML = `
          <h4><div class="status-indicator" id="status-${partKey}"></div>${part.name}</h4>
          <div class="control-group">
            <label>X:</label>
            <input type="range" class="slider" min="10" max="390" value="${part.currentX}"
                   oninput="updatePartPosition('${partKey}', 'x', this.value)">
            <input type="number" class="coord-input" min="10" max="390" value="${part.currentX}"
                   onchange="updatePartPosition('${partKey}', 'x', this.value)" id="x-${partKey}">
          </div>
          <div class="control-group">
            <label>Y:</label>
            <input type="range" class="slider" min="10" max="390" value="${part.currentY}"
                   oninput="updatePartPosition('${partKey}', 'y', this.value)">
            <input type="number" class="coord-input" min="10" max="390" value="${part.currentY}"
                   onchange="updatePartPosition('${partKey}', 'y', this.value)" id="y-${partKey}">
          </div>`;
          container.appendChild(partDiv);
        });
      }

      function updatePartPosition(partKey, axis, value) {
        const part = animalParts[partKey];
        const numValue = parseInt(value);
        if (axis === "x") {
          part.currentX = numValue;
          document.querySelector(`#x-${partKey}`).value = numValue;
          document.querySelector(`input[oninput*="'${partKey}', 'x'"]`).value =
            numValue;
        } else {
          part.currentY = numValue;
          document.querySelector(`#y-${partKey}`).value = numValue;
          document.querySelector(`input[oninput*="'${partKey}', 'y'"]`).value =
            numValue;
        }
        drawAnimal();
        updateScore();
      }

      function drawAnimal() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        Object.keys(animalParts).forEach((partKey) => {
          const part = animalParts[partKey];
          const isCorrect = isPartCorrect(partKey);
          if (isCorrect) {
            ctx.shadowColor = "#51CF66";
            ctx.shadowBlur = 10;
          } else {
            ctx.shadowColor = "transparent";
            ctx.shadowBlur = 0;
          }
          drawPart(part, partKey);
        });
        ctx.shadowColor = "transparent";
        ctx.shadowBlur = 0;
      }

      function drawPart(part, partKey) {
        ctx.fillStyle = part.color;
        switch (partKey) {
          case "body":
            // Draw main body (rounded rectangle)
            ctx.beginPath();
            ctx.ellipse(
              part.currentX,
              part.currentY,
              part.width / 2,
              part.height / 2,
              0,
              0,
              Math.PI * 2
            );
            ctx.fill();
            ctx.strokeStyle = "#C0392B";
            ctx.lineWidth = 3;
            ctx.stroke();
            break;
          case "visor":
            // Draw visor (glass helmet)
            ctx.fillStyle = part.color;
            ctx.beginPath();
            ctx.ellipse(
              part.currentX,
              part.currentY,
              part.width / 2,
              part.height / 2,
              0,
              0,
              Math.PI * 2
            );
            ctx.fill();
            ctx.strokeStyle = "#5DADE2";
            ctx.lineWidth = 2;
            ctx.stroke();
            break;
          case "backpack":
            // Draw backpack (rectangle)
            ctx.beginPath();
            ctx.roundRect(
              part.currentX - part.width / 2,
              part.currentY - part.height / 2,
              part.width,
              part.height,
              10
            );
            ctx.fill();
            ctx.strokeStyle = "#A93226";
            ctx.lineWidth = 2;
            ctx.stroke();
            break;
          case "legs":
            // Draw legs (two small ovals)
            const legWidth = part.width / 3;
            ctx.beginPath();
            ctx.ellipse(
              part.currentX - 15,
              part.currentY,
              legWidth / 2,
              part.height / 2,
              0,
              0,
              Math.PI * 2
            );
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(
              part.currentX + 15,
              part.currentY,
              legWidth / 2,
              part.height / 2,
              0,
              0,
              Math.PI * 2
            );
            ctx.fill();
            break;
        }
      }

      function isPartCorrect(partKey) {
        const part = animalParts[partKey];
        const xDiff = Math.abs(part.currentX - part.correctX);
        const yDiff = Math.abs(part.currentY - part.correctY);
        return xDiff <= part.tolerance && yDiff <= part.tolerance;
      }

      function updateScore() {
        let correctParts = 0;
        const totalParts = Object.keys(animalParts).length;
        Object.keys(animalParts).forEach((partKey) => {
          const isCorrect = isPartCorrect(partKey);
          const statusIndicator = document.getElementById(`status-${partKey}`);
          if (isCorrect) {
            correctParts++;
            statusIndicator.className = "status-indicator correct";
          } else {
            statusIndicator.className = "status-indicator";
          }
        });

        // Play sound if score increased
        if (correctParts > previousScore && gameStarted) {
          playCorrectSound();
        }

        previousScore = score;
        score = correctParts;
        document.getElementById("scoreValue").textContent = score;
        document.getElementById("maxScore").textContent = totalParts;
        document.getElementById("partsCorrect").textContent = correctParts;

        if (score === totalParts && gameStarted) {
          setTimeout(() => {
            showCongratulations();
          }, 500);
        }
      }

      function shuffleParts() {
        gameStarted = true;
        Object.keys(animalParts).forEach((partKey) => {
          const part = animalParts[partKey];
          // Make it easier by placing parts closer to their correct positions
          // Only move them 40-80 pixels away from the correct spot
          const offsetRange = 60;
          const minOffset = 25;

          // Random direction and distance
          const angle = Math.random() * 2 * Math.PI;
          const distance =
            minOffset + Math.random() * (offsetRange - minOffset);

          let newX = part.correctX + Math.cos(angle) * distance;
          let newY = part.correctY + Math.sin(angle) * distance;

          // Keep parts within canvas bounds
          newX = Math.max(30, Math.min(canvas.width - 30, newX));
          newY = Math.max(30, Math.min(canvas.height - 30, newY));

          part.currentX = Math.round(newX);
          part.currentY = Math.round(newY);
          updateUIControls(partKey);
        });
        drawAnimal();
        updateScore();
      }

      function resetParts() {
        Object.keys(animalParts).forEach((partKey) => {
          const part = animalParts[partKey];
          part.currentX = part.correctX;
          part.currentY = part.correctY;
          updateUIControls(partKey);
        });
        drawAnimal();
        updateScore();
      }

      function toggleHints() {
        showHints = !showHints;
        const hintOverlay = document.querySelector(".hint-overlay");
        if (showHints) {
          drawHints();
          hintOverlay.classList.add("show");
        } else {
          hintCtx.clearRect(0, 0, hintCanvas.width, hintCanvas.height);
          hintOverlay.classList.remove("show");
        }
      }

      function drawHints() {
        hintCtx.clearRect(0, 0, hintCanvas.width, hintCanvas.height);
        hintCtx.strokeStyle = "#51CF66";
        hintCtx.lineWidth = 3;
        hintCtx.setLineDash([5, 5]);
        Object.keys(animalParts).forEach((partKey) => {
          const part = animalParts[partKey];
          if (partKey === "body" || partKey === "visor") {
            hintCtx.beginPath();
            hintCtx.ellipse(
              part.correctX,
              part.correctY,
              (part.width || 50) / 2 + 5,
              (part.height || 50) / 2 + 5,
              0,
              0,
              Math.PI * 2
            );
            hintCtx.stroke();
          } else {
            hintCtx.beginPath();
            hintCtx.roundRect(
              part.correctX - (part.width || 40) / 2 - 5,
              part.correctY - (part.height || 40) / 2 - 5,
              (part.width || 40) + 10,
              (part.height || 40) + 10,
              10
            );
            hintCtx.stroke();
          }
        });
        hintCtx.setLineDash([]);
      }

      // Drag functionality
      let isDragging = false;
      let draggedPart = null;
      let dragOffset = { x: 0, y: 0 };

      function addMouseTracking() {
        canvas.addEventListener("mousemove", (e) => {
          const rect = canvas.getBoundingClientRect();
          const x = Math.floor(e.clientX - rect.left);
          const y = Math.floor(e.clientY - rect.top);
          document.getElementById("mouseX").textContent = x;
          document.getElementById("mouseY").textContent = y;
          if (isDragging && draggedPart) {
            const part = animalParts[draggedPart];
            part.currentX = Math.max(10, Math.min(390, x - dragOffset.x));
            part.currentY = Math.max(10, Math.min(390, y - dragOffset.y));
            updateUIControls(draggedPart);
            drawAnimal();
            updateScore();
          }
          canvas.style.cursor = getPartAtPosition(x, y) ? "pointer" : "default";
        });

        canvas.addEventListener("mousedown", (e) => {
          const rect = canvas.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          const partKey = getPartAtPosition(x, y);
          if (partKey) {
            isDragging = true;
            draggedPart = partKey;
            const part = animalParts[partKey];
            dragOffset.x = x - part.currentX;
            dragOffset.y = y - part.currentY;
          }
        });

        canvas.addEventListener("mouseup", () => {
          if (isDragging && draggedPart) {
            isDragging = false;
            draggedPart = null;
          }
        });
      }

      function getPartAtPosition(x, y) {
        const partKeys = Object.keys(animalParts).reverse();
        for (let partKey of partKeys) {
          const part = animalParts[partKey];
          const width = part.width || 50;
          const height = part.height || 50;

          // Check if point is within part bounds
          if (
            x >= part.currentX - width / 2 &&
            x <= part.currentX + width / 2 &&
            y >= part.currentY - height / 2 &&
            y <= part.currentY + height / 2
          ) {
            return partKey;
          }
        }
        return null;
      }

      function updateUIControls(partKey) {
        const part = animalParts[partKey];
        document.querySelector(`#x-${partKey}`).value = Math.round(
          part.currentX
        );
        document.querySelector(`#y-${partKey}`).value = Math.round(
          part.currentY
        );
        document.querySelector(`input[oninput*="'${partKey}', 'x'"]`).value =
          Math.round(part.currentX);
        document.querySelector(`input[oninput*="'${partKey}', 'y'"]`).value =
          Math.round(part.currentY);
      }

      function celebrate() {
        const originalBg = canvas.style.background;
        let flashCount = 0;
        const flashInterval = setInterval(() => {
          canvas.style.background =
            flashCount % 2 === 0 ? "#FFD700" : "#34495E";
          flashCount++;
          if (flashCount > 6) {
            clearInterval(flashInterval);
            canvas.style.background = originalBg;
          }
        }, 200);
      }

      window.onload = initGame;
    </script>
  </body>
</html>
